<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Happy Birthday Marjolijn!</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.5/babel.min.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    @keyframes fall {
      0% { transform: translateY(-20px) rotate(0deg); opacity: 1; }
      100% { transform: translateY(100vh) rotate(720deg); opacity: 0.7; }
    }
    @keyframes float {
      0%, 100% { transform: translateY(0) rotate(-3deg); }
      50% { transform: translateY(-30px) rotate(3deg); }
    }
    @keyframes bounce {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-10px); }
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: scale(1.05); }
      to { opacity: 1; transform: scale(1); }
    }
  </style>
</head>
<body>
  <div id="root"></div>
  <script type="text/babel">
    const { useState, useEffect, useRef } = React;

    const Confetti = () => {
      const [pieces, setPieces] = useState([]);

      useEffect(() => {
        const isMobile = window.innerWidth < 768;
        const pieceCount = isMobile ? 40 : 80;
        const colors = ['#ff6b9d', '#c44569', '#f8b500', '#7158e2', '#3ae374', '#17c0eb', '#ff9ff3'];
        const newPieces = Array.from({ length: pieceCount }, (_, i) => ({
          id: i,
          left: Math.random() * 100,
          delay: Math.random() * 5,
          duration: 3 + Math.random() * 4,
          color: colors[Math.floor(Math.random() * colors.length)],
          size: 8 + Math.random() * 12,
          rotation: Math.random() * 360
        }));
        setPieces(newPieces);
      }, []);

      return (
        <div className="fixed inset-0 pointer-events-none overflow-hidden z-10">
          {pieces.map(p => (
            <div
              key={p.id}
              style={{
                position: 'absolute',
                left: `${p.left}%`,
                top: '-20px',
                width: p.size,
                height: p.size * 0.6,
                backgroundColor: p.color,
                borderRadius: '2px',
                animation: `fall ${p.duration}s linear ${p.delay}s infinite`,
                transform: `rotate(${p.rotation}deg)`
              }}
            />
          ))}
        </div>
      );
    };

    const Balloons = () => {
      const balloons = [
        { left: '5%', delay: 0, color: '#ff6b9d' },
        { left: '15%', delay: 1.5, color: '#7158e2' },
        { left: '85%', delay: 0.5, color: '#f8b500' },
        { left: '92%', delay: 2, color: '#3ae374' },
        { left: '25%', delay: 2.5, color: '#17c0eb' },
        { left: '75%', delay: 1, color: '#ff9ff3' },
      ];

      const isMobile = window.innerWidth < 768;
      const balloonSize = isMobile ? { width: '40px', height: '50px' } : { width: '64px', height: '80px' };
      const stringHeight = isMobile ? '60px' : '96px';

      return (
        <div className="fixed inset-0 pointer-events-none" style={{zIndex: 5}}>
          {balloons.map((b, i) => (
            <div
              key={i}
              className="absolute bottom-0"
              style={{
                left: b.left,
                animation: `float 6s ease-in-out ${b.delay}s infinite`
              }}
            >
              <div
                className="relative"
                style={{ ...balloonSize, borderRadius: '50%', backgroundColor: b.color }}
              >
                <div className="absolute bottom-0 left-1/2 bg-gray-400" style={{ width: '2px', height: stringHeight, transform: 'translateX(-50%)' }} />
              </div>
            </div>
          ))}
        </div>
      );
    };

    const Sparkle = ({ style }) => (
      <div className="absolute animate-pulse text-yellow-300" style={style}>âœ¨</div>
    );

    function BirthdayPage() {
      const [currentSlide, setCurrentSlide] = useState(0);
      const [isPlaying, setIsPlaying] = useState(false);
      const [hasStarted, setHasStarted] = useState(false);
      const audioRef = useRef(null);

      const photos = [
        { url: 'IMG-1140.jpg' },
        { url: 'IMG-2258.jpg' },
        { url: 'IMG-2313.jpg' },
        { url: 'IMG-3024.jpg' },
        { url: 'IMG-3454.jpg' },
        { url: 'IMG-3531.jpg' },
        { url: 'IMG-3754.jpg' },
        { url: 'IMG-4679.jpg' },
        { url: 'IMG-5026.jpg' },
        { url: 'IMG-9848.JPG' },
        { url: 'IMG_0244.jpeg' },
        { url: 'IMG_0358.JPEG' },
        { url: 'IMG_0500.JPEG' },
        { url: 'IMG_0656.JPEG' },
        { url: 'IMG_1137.JPEG' },
        { url: 'IMG_1518.JPEG' },
        { url: 'IMG_1601.JPEG' },
        { url: 'IMG_1650.JPEG' },
        { url: 'IMG_1827.JPEG' },
        { url: 'IMG_2255.JPEG' },
        { url: 'IMG_2498.JPEG' },
        { url: 'IMG_3535.jpeg' },
        { url: 'IMG_3754.JPEG' },
        { url: 'IMG_3816.JPEG' },
        { url: 'IMG_3864.JPEG' },
        { url: 'IMG_3913.JPEG' },
        { url: 'IMG_4210.JPEG' },
        { url: 'IMG_4221.JPEG' },
        { url: 'IMG_4751.JPEG' },
        { url: 'IMG_5026.JPEG' },
        { url: 'IMG_5084.JPEG' },
        { url: 'IMG_5569.jpeg' },
        { url: 'IMG_5570.jpeg' },
        { url: 'IMG_7014.JPEG' },
        { url: 'IMG_7054.JPEG' },
        { url: 'IMG_7109.JPEG' },
        { url: 'IMG_7110.JPEG' },
        { url: 'IMG_7147.JPEG' },
        { url: 'IMG_7806.JPEG' },
        { url: 'IMG_9105.JPEG' },
        { url: 'IMG_9130.JPEG' },
        { url: 'IMG_9565.JPEG' },
        { url: 'IMG_9630.JPEG' },
      ];

      const displayPhotos = photos;

      useEffect(() => {
        if (displayPhotos.length > 1) {
          const timer = setInterval(() => {
            setCurrentSlide(prev => (prev + 1) % displayPhotos.length);
          }, 4000);
          return () => clearInterval(timer);
        }
      }, [displayPhotos.length]);

      const startExperience = () => {
        setHasStarted(true);
        if (audioRef.current) {
          audioRef.current.play();
          setIsPlaying(true);
        }
      };

      // Touch/swipe handling for mobile
      const touchStartX = useRef(0);
      const touchEndX = useRef(0);

      const handleTouchStart = (e) => {
        touchStartX.current = e.touches[0].clientX;
      };

      const handleTouchMove = (e) => {
        touchEndX.current = e.touches[0].clientX;
      };

      const handleTouchEnd = () => {
        const diff = touchStartX.current - touchEndX.current;
        const threshold = 50;
        if (Math.abs(diff) > threshold) {
          if (diff > 0) {
            // Swipe left - next photo
            setCurrentSlide(prev => (prev + 1) % displayPhotos.length);
          } else {
            // Swipe right - previous photo
            setCurrentSlide(prev => (prev - 1 + displayPhotos.length) % displayPhotos.length);
          }
        }
      };

      if (!hasStarted) {
        return (
          <div
            className="min-h-screen bg-gradient-to-br from-pink-400 via-purple-400 to-indigo-500 flex items-center justify-center cursor-pointer px-4"
            onClick={startExperience}
          >
            <div className="text-center">
              <div className="text-6xl sm:text-8xl mb-6 sm:mb-8 animate-bounce">ğŸ</div>
              <h1 className="text-2xl sm:text-4xl md:text-6xl font-bold text-white mb-4 sm:mb-6 drop-shadow-lg px-2">
                Een cadeautje voor Marjolijn!
              </h1>
              <button
                className="bg-yellow-400 hover:bg-yellow-300 active:bg-yellow-500 text-purple-800 font-bold text-lg sm:text-2xl px-8 sm:px-12 py-4 sm:py-6 rounded-full shadow-2xl transition-all hover:scale-110 active:scale-95"
                onClick={startExperience}
              >
                ğŸ‰ Tik om te openen! ğŸ‰
              </button>
            </div>
          </div>
        );
      }

      return (
        <div className="min-h-screen bg-gradient-to-br from-pink-400 via-purple-400 to-indigo-500 relative overflow-hidden">
          <Confetti />
          <Balloons />

          <audio
            ref={audioRef}
            src="stevie.mp3"
            loop
            autoPlay
            onPlay={() => setIsPlaying(true)}
            onPause={() => setIsPlaying(false)}
          />

          <Sparkle style={{ top: '10%', left: '10%', fontSize: '2rem' }} />
          <Sparkle style={{ top: '20%', right: '15%', fontSize: '1.5rem' }} />
          <Sparkle style={{ top: '60%', left: '5%', fontSize: '1.8rem' }} />
          <Sparkle style={{ top: '40%', right: '8%', fontSize: '2.2rem' }} />

          <div className="relative z-20 container mx-auto px-3 sm:px-4 py-4 sm:py-8">
            <div className="text-center mb-6 sm:mb-12">
              <h1
                className="text-3xl sm:text-5xl md:text-7xl font-bold text-white drop-shadow-lg mb-2 sm:mb-4"
                style={{
                  animation: 'bounce 1s ease infinite',
                  textShadow: '2px 2px 0 #ff6b9d, 4px 4px 0 #7158e2'
                }}
              >
                ğŸ‚ Happy Birthday ğŸ‚
              </h1>
              <h2
                className="text-2xl sm:text-4xl md:text-6xl font-bold text-yellow-300 drop-shadow-lg"
                style={{
                  animation: 'pulse 2s ease-in-out infinite',
                  textShadow: '1px 1px 0 #f8b500'
                }}
              >
                Marjolijn! ğŸ‰
              </h2>
              <div className="mt-2 sm:mt-4 text-xl sm:text-2xl">ğŸˆğŸğŸŠğŸ¥³ğŸˆ</div>
            </div>

            <div className="max-w-3xl mx-auto mb-6 sm:mb-8">
              <div className="bg-white/20 backdrop-blur-sm rounded-2xl sm:rounded-3xl p-2 sm:p-4 shadow-2xl">
                <div
                  className="relative rounded-xl sm:rounded-2xl overflow-hidden bg-white/30 flex items-center justify-center"
                  style={{ minHeight: '250px' }}
                  onTouchStart={handleTouchStart}
                  onTouchMove={handleTouchMove}
                  onTouchEnd={handleTouchEnd}
                >
                  <img
                    src={displayPhotos[currentSlide]?.url}
                    alt={`Photo ${currentSlide + 1}`}
                    className="max-w-full object-contain select-none"
                    style={{ maxHeight: '60vh', animation: 'fadeIn 0.5s ease' }}
                    draggable={false}
                  />
                </div>

                <div className="flex justify-center gap-1.5 sm:gap-2 mt-3 sm:mt-4 flex-wrap px-2">
                  {displayPhotos.map((_, i) => (
                    <button
                      key={i}
                      onClick={() => setCurrentSlide(i)}
                      className={`w-2.5 h-2.5 sm:w-3 sm:h-3 rounded-full transition-all ${
                        i === currentSlide ? 'bg-white scale-125' : 'bg-white/50'
                      }`}
                      style={{ minWidth: '10px', minHeight: '10px' }}
                    />
                  ))}
                </div>
              </div>
            </div>

            <div className="max-w-2xl mx-auto text-center bg-white/20 backdrop-blur-sm rounded-2xl sm:rounded-3xl p-4 sm:p-8 shadow-xl">
              <p className="text-lg sm:text-2xl text-white font-medium leading-relaxed">
                Een hele mooie verjaardag gewenst!!
                <br /><br />
                <span className="text-xl sm:text-3xl">Jasmijn, Pascal en JW ğŸ’–</span>
              </p>
            </div>

            <div className="text-center mt-6 sm:mt-12 text-white/80">
              <p className="text-sm sm:text-lg">Met heel veel liefde gemaakt ğŸ’•</p>
            </div>
          </div>
        </div>
      );
    }

    ReactDOM.render(<BirthdayPage />, document.getElementById('root'));
  </script>
</body>
</html>